<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OMDb API Movies</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="manifest" href="../manifest.json">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="../js/main_db.js" type="module"></script>
</head>

<body>
    <!-- NAV -->
    <nav class="nav-extended black">
        <div class="nav-wrapper">
            <a href="../index.html" class="brand-logo"><img src="../img/logo.svg" alt="logo de peliculas">
                MUNDO<span>CINE</span></a>
            <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul id="nav-mobile" class="right">
                <li class="logged-out"><a class="amber-text" href="iniciarSesion.html">Iniciar Sesion</a></li>
                <li class="logged-out"><a class="amber-text" href="registrarse.html">Registrarse</a></li>
                <li class="logged-in"><a id="logout" class="amber-text" href="#">Cerrar Sesion</a></li>
                <li><a class="waves-effect amber waves-light btn" onclick="installApp()">
                        <i class="material-icons left" id="install-button">file_download</i>Instalar</a>
                </li>
            </ul>
        </div>
        <div class="nav-content">
            <ul class="tabs tabs-transparent">
                <li class="tab"><a href="../index.html"> Inicio </a></li>
                <li class="tab"><a href="catalogo.html">Catálogo</a></li>
                <li class="tab"><a href="contacto.html">Contacto</a></li>
                <li class="tab"><a class="active amber-text" href="favoritos.html">Favoritos <span id="favorites-badge" class="badge amber"
                            data-badge-caption="">0</span></a></li>
            </ul>
        </div>
    </nav>

    <div id="offline-notification" class="offline-notification" style="display: none;">
        La aplicación está en modo offline.
    </div>

    <ul class="sidenav" id="mobile-demo">
        <div class="black valign-wrapper center-align" style="justify-content: center;">
            <a href="#" class="brand-logo white-text">MUNDO <br><span>CINE</span><img src="../img/logo.svg"
                    alt="logo de peliculas"></a>
        </div>

        <li class="tab"><a href="../index.html"> Inicio </a></li>
        <li class="tab"><a href="catalogo.html">Catálogo</a></li>
        <li class="tab"><a href="contacto.html">Contacto</a></li>
        <li class="tab"><a class="active amber-text" href="favoritos.html">Favoritos <span id="favorites-badge" class="badge amber"
                    data-badge-caption="">0</span></a></li>

    </ul>
    <!-- NAV -->

    <!-- CARDS -->

    <div class="container section white z-depth-5" style="min-height: 80vh;">
        <h1 class="center-align">FAVORITOS!</h1>
        <div id="favorites-container" class="row"></div>
        <div id="no-favorites" class="center-align" style="display: none;">
            <h5>No hay películas favoritas cargadas.</h5>
            <a href="catalogo.html" class="btn amber">Ir al Catálogo</a>
        </div>


    </div>

    <!-- CARDS -->

    <!-- MODAL -->

    <div id="modal" class="modal">
        <div class="modal-content row">
            <div class="col s3">
                <img id="modal-poster" src="" alt="Poster de la película"
                    style="width: 100%; max-height: 400px; object-fit: cover;">
            </div>
            <div class="col s9 container">
                <h3 id="modal-title"></h3>
                <p id="modal-year"></p>
                <p id="modal-director"></p>
                <p id="modal-plot"></p>
                <p id="modal-rating"></p>
            </div>
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cerrar</a>
        </div>
    </div>



    <!-- MODAL -->
    <footer class="page-footer black">
        <div class="container">
            <div class="row">
                <div class="col l2 s>
                    <a href=" #" class="brand-logo"><img class="footerLogo" src="../img/logo.svg"
                        alt="logo de peliculas"></a>
                </div>
                <div class="col l6 m6 s12">
                    <h5 class="white-text">Mundo Cine</h5>

                    <p class="grey-text text-lighten-4">Podes contactarnos para solicitar las peliculas que quieras
                        agregar al catálogo</p>
                    <a class="waves-effect amber waves-light btn" href="contacto.html">Contacto</a>
                </div>
                <div class="col l4 m6 s12">
                    <h5 class="white-text">Menu</h5>
                    <ul>
                        <li><a class="active amber-text" href="../index.html"> Inicio </a></li>
                        <li><a class="amber-text" href="catalogo.html">Catálogo</a></li>
                        <li><a class="amber-text" href="contacto.html">Contacto</a></li>
                        <li><a class="amber-text" href="favoritos.html">Favoritos</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                © 2024 Copyright - Davinci
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/scripts.js"></script>
    <script>
        let deferredPrompt;

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('install-button').style.display = 'block';
        });

        function installApp() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('ususario acepto la instalacion');
                        document.getElementById('install-button').style.display = 'none';
                    }
                    deferredPrompt = null;
                });
            }
        }

    </script>
</body>

</html>